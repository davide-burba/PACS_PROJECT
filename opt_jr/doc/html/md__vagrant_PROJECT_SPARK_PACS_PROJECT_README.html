<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>opt_jr_doc: PACS PROJECT DESCRIPTION:</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">opt_jr_doc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">PACS PROJECT DESCRIPTION: </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>OPT_JR_CPP is a program that manages soft deadline application when heavy load occurs. It provides the best cores allocation to the invoking applications by performing a local neighborhood search. OPT_JR uses a predictor (actually only dagSim is supported) and relies on the initial solution provided by OPT_IC.</p>
<p>The original version of this program is written in C and it’s available at: <a href="https://github.com/eubr-bigsea/opt_jr">https://github.com/eubr-bigsea/opt_jr</a></p>
<p>This new version has been rewritten in C++ with some improvements and parallelization (using openMP).</p>
<h1>USAGE:</h1>
<p><code>./OPT_JR:CPP -f &lt;filename.csv&gt; -n &lt;N&gt; -k &lt;Limit&gt; -d &lt;Y/y|N/n&gt; -c &lt;Y/y|N/n&gt; -g=&lt;Y/y|N/n&gt; -s &lt;dagSim|lundstrom&gt; -i &lt;iterations&gt;</code></p>
<p>where:</p>
<p><code>&lt;filename.csv&gt; is the csv file defining the profile applications under $UPLOAD_HOME in wsi_config.xml;</code></p>
<p><code>&lt;N&gt; is the total number of cores;</code></p>
<p><code>&lt;Limit&gt; is the maximum number of considered candidates (if equal to 0, all the candidates are considered).</code></p>
<p><code>-d represents debug (on/off)</code></p>
<p><code>-c represents cache (on/off)</code></p>
<p><code>-g prints the value of the global objective function (on/off)</code></p>
<p><code>-i represents the maximum number of iterations</code></p>
<p>#EXAMPLE</p>
<p><code>./OPT_JR -f="Test1.csv" -n=150 -i=10 -k=0 -d=y -c=y -s=dagSim -g=Y</code></p>
<p>In this case, OPT_JR is executed on a file Test1.csv, the total number of cores is 150, all the candidates are considered, the predictor used is dagSim, the maximum number of iterations is 10, the value of global objective function for each iteration will be printed in output.</p>
<p>#TEST: Some testing files are provided in tests directory.</p>
<h1>REQUIREMENTS:</h1>
<p>This program requires mysql server and connector.</p>
<p>To install mysql server with yum (following the instructions at <a href="https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/#repo-qg-yum-fresh-install">https://dev.mysql.com/doc/mysql-yum-repo-quick-guide/en/#repo-qg-yum-fresh-install</a>):</p>
<p>1) Go to the download page for MySQL Yum repository at <a href="http://dev.mysql.com/downloads/repo/yum/">http://dev.mysql.com/downloads/repo/yum/</a>.</p>
<p>2) Select and download the release package for your platform.</p>
<p>3) Install the downloaded release package with the following command, replacing platform-and-version-specific-package-name with the name of the downloaded package: </p>
<blockquote class="doxtable">
<p>sudo rpm -Uvh platform-and-version-specific-package-name.rpm</p>
<p></p>
</blockquote>
<p>4) Install MySQL by the following command: </p>
<blockquote class="doxtable">
<p>sudo yum install mysql-community-server</p>
<p></p>
</blockquote>
<p>5) Start the MySQL server with the following command: </p>
<blockquote class="doxtable">
<p>sudo service mysqld start</p>
<p></p>
</blockquote>
<p>6)A superuser account 'root'@'localhost' is created. A password for the superuser is set and stored in the error log file. To reveal it, use the following command: sudo grep 'temporary password' /var/log/mysqld.log</p>
<p>7)Change the root password as soon as possible by logging in with the generated, temporary password and set a custom password for the superuser account: </p>
<blockquote class="doxtable">
<p>mysql -uroot -p ALTER USER 'root'@'localhost' IDENTIFIED BY 'MyNewPass4!';</p>
<p></p>
</blockquote>
<p>NOTE: MySQL's validate_password plugin is installed by default. This will require that passwords contain at least one upper case letter, one lower case letter, one digit, and one special character, and that the total password length is at least 8 characters.</p>
<p>8)Install the connector: </p>
<blockquote class="doxtable">
<p>yum install mysql-connector-odbc</p>
<p></p>
</blockquote>
<h1>BUILD THE PROGRAM:</h1>
<p>1) Build the database:</p>
<p>#log in in mysql server (the password will be asked) </p>
<blockquote class="doxtable">
<p>mysql -uroot -p</p>
<p></p>
</blockquote>
<p>#create a database (): </p>
<blockquote class="doxtable">
<p>CREATE DATABASE database_name;</p>
<p></p>
</blockquote>
<p>#use that database </p>
<blockquote class="doxtable">
<p>USE database_name;</p>
<p></p>
</blockquote>
<p>2) Run creationDB.sql which creates the tables </p>
<blockquote class="doxtable">
<p>source creationDB.sql;</p>
<p></p>
</blockquote>
<p>3) Launch the script which creates and populates two tables OPTIMIZER_CONFIGURATION_TABLE.sql, PREDICTOR_CACHE_TABLE.sql: </p>
<blockquote class="doxtable">
<p>source OPTIMIZER_CONFIGURATION_TABLE.sql; source PREDICTOR_CACHE_TABLE.sql;</p>
<p></p>
</blockquote>
<p>4) set wsi_config.xml configuration file</p>
<p>5) Extract and move logp8 directory: </p>
<blockquote class="doxtable">
<p>sudo mkdir /home/work sudo mv logP8 /home/work/logP8</p>
<p></p>
</blockquote>
<p>5) set and run the environmental variables in the settingEV.sh file</p>
<p>6) Compile dagsim simulator: move in dagsim-master and type “make”</p>
<p>7) move in opt_jr directory and type: </p>
<blockquote class="doxtable">
<p>make</p>
<p></p>
</blockquote>
<p>Look at first point for usage instructions.</p>
<h1>BUILD DOCUMENTATION:</h1>
<p>Requirements: doxygen and graphviz</p>
<p>If you have yum installed you can install doxygen and graphviz typing: 1) sudo yum install doxygen 2) sudo yum install graphviz</p>
<p>Once doxygen and graphviz are installed, follow the instructions below to build the documentation : 1) move in the doc directory 2) run: doxygen opt_jr_doxy</p>
<p>You will find two directory in doc named “html”, and “latex”. Open the index.html in the html directory to explore the structure of the program. If you want a pdf document you should compile the reman.tex file in the latex directory.</p>
<h1>TESTS:</h1>
<p>Some test file are provided in the test directory </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
